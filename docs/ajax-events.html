<!doctype html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Mostrando mensaje de carga - Listefi Ajax</title>
	<script src="../src/js/listefi.js"></script>
</head>
<body>
	<form id="form1" method="post" action="proccess1.php">
		<div>
			<label for="nombre">Nombre</label>
			<input type="text" name="nombre" id="nombre">
		</div>
		<div>
			<label for="email">E-mail</label>
			<input type="text" name="email" id="email">
		</div>
		<div>
			<label for="telefono">Telefono</label>
			<input type="text" name="telefono" id="telefono">
		</div>
		<div>
			<label for="asunto">Asunto</label>
			<input type="text" name="asunto" id="asunto">
		</div>
		<div>
			<label for="adjunto1">Adjuntar archivo</label>
			<input type="file" name="adjunto1" id="adjunto1">
		</div>
		<div>
			<label for="mensaje">Mensaje</label>
			<textarea name="mensaje" id="mensaje"></textarea>
		</div>
		<button type="submit">Enviar</button>
	</form>
	<div id="proceso"></div>
	<script>
		var formulario = document.querySelector("#form1");
		var proceso = document.querySelector("#proceso");
		
		formulario.addEventListener("submit", function(e){
			e.preventDefault();
			listefi.ajax({
				url: this.action,
				method: this.method,
				data: new FormData(formulario),
				loadstart: function(){
					proceso.innerHTML = 'Cargando..';
				},
				load: function(){
					proceso.innerHTML = '';
				},
				success: function(respuesta){
					alert(respuesta);
				}
			});
		});
	</script>
</body>
</html>